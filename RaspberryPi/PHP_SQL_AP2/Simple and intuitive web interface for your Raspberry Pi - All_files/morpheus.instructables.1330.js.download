(function() { //Sonobi - Morpheus version:3.5.1
'use strict';var z="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global?global:this,A={};function B(e,n){(A[e]=A[e]||[]).push(n);var l=z;e=e.split(".");for(var h=0;h<e.length-1&&l;h++)l=l[e[h]];e=e[e.length-1];l&&l[e]instanceof Function&&(l[e]=n(l[e]))}
function E(){E=function(){};if(!z.Symbol){z.Symbol=ha;var e=[],n=function(n){return function(h){e=[];h=n(h);for(var p=[],q=0,w=h.length;q<w;q++){var v;a:if(v=h[q],14>v.length)v=!1;else{for(var x=0;14>x;x++)if(v[x]!="jscomp_symbol_"[x]){v=!1;break a}v=!0}v?e.push(h[q]):p.push(h[q])}return p}};B("Object.keys",n);B("Object.getOwnPropertyNames",n);B("Object.getOwnPropertySymbols",function(l){return function(h){n.a=Object.getOwnPropertyNames(h);e.push.apply(l(h));return e}})}}var ia=0;
function ha(e){return"jscomp_symbol_"+e+ia++}function M(){E();z.Symbol.iterator||(z.Symbol.iterator=z.Symbol("iterator"));M=function(){}}function N(e){M();E();M();var n=e[Symbol.iterator];if(n)return n.call(e);var l=0;return{next:function(){return l<e.length?{done:!1,value:e[l++]}:{done:!0}}}}
function ja(e,n){function l(){}l.prototype=n.prototype;e.prototype=new l;e.prototype.constructor=e;for(var h in n)if(Object.defineProperties){var p=Object.getOwnPropertyDescriptor(n,h);p&&Object.defineProperty(e,h,p)}else e[h]=n[h]}var ka="function"==typeof Object.defineProperties?Object.defineProperty:function(e,n,l){if(l.get||l.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[n]=l.value)};
function O(e,n){if(n){for(var l=z,h=e.split("."),p=0;p<h.length-1;p++){var q=h[p];q in l||(l[q]={});l=l[q]}h=h[h.length-1];p=l[h];n=n(p);if(n!=p){e=A[e]||[];for(p=0;p<e.length;p++)n=e[p](n);ka(l,h,{configurable:!0,writable:!0,value:n})}}}O("Object.assign",function(e){return e?e:function(e,l){for(var h=1;h<arguments.length;h++){var p=arguments[h];if(p)for(var q in p)Object.prototype.hasOwnProperty.call(p,q)&&(e[q]=p[q])}return e}});
function la(e,n){M();e instanceof String&&(e+="");var l=0,h={next:function(){if(l<e.length){var p=l++;return{value:n(p,e[p]),done:!1}}h.next=function(){return{done:!0,value:void 0}};return h.next()}};h[Symbol.iterator]=function(){return h};return h}O("Array.prototype.keys",function(e){return e?e:function(){return la(this,function(e){return e})}});O("Number.EPSILON",function(){return Math.pow(2,-52)});O("Number.MAX_SAFE_INTEGER",function(){return 9007199254740991});O("Number.MIN_SAFE_INTEGER",function(){return-9007199254740991});
O("Array.from",function(e){return e?e:function(e,l,h){M();l=l?l:function(e){return e};var p=[],q=e[Symbol.iterator];if("function"==typeof q)for(e=q.call(e);!(q=e.next()).done;)p.push(l.call(h,q.value));else for(var q=e.length,w=0;w<q;w++)p.push(l.call(h,e[w]));return p}});O("Array.prototype.find",function(e){return e?e:function(e,l){a:{var h=this;h instanceof String&&(h=String(h));for(var p=h.length,q=0;q<p;q++){var w=h[q];if(e.call(l,w,q,h)){e=w;break a}}e=void 0}return e}});
(function(e){function n(a){this.a(a);this.gb=new l(a);this.K=new J(a)}function l(a){this.a=a.analyticsSettings;this.K=new J(a)}function h(a,b){this.c=a;this.g=b;this.caller=new F;this.a=[]}function p(a,b){this.c=a;this.a={};this.aa=b}function q(a,b,c,d,f,G,m){this.ca=u.Ra();this.w=d;this.P=f;this.W=0;this.R=c;this.da=b;this.a="";this.C=a;this.h={};this.pa="";this.b=10;this.U=this.i=0;this.X=1;this.v=[];this.g={};this.V=m;this.G=this.T=0;"function"===typeof G.ea&&G.ea(this.va(1))}function w(a){return parseInt(a,
10)}function v(a){this.name=a.name;this.ra=a.ra;this.Fa=a.Fa;this.request=a.request;this.parse=a.parse;this.done=Function;this.caller=new F;this.Y={};this.c={};this.b=Promise.resolve({});this.a=!1}function x(a,b){if(!b)throw Error("Provide an adapter name in your AdapterSettingsConfigInterface constructor.");this.g=a.adapterSettings;this.a=new T(a);a=this.g;for(var c={},d=0;d<a.length;d++)c[a[d].name]=a[d];this.b=c;this.o=b}function T(a){this.a=a.platformSettings;this.K=new J(a)}function J(a){this.a=
a.globalSettings}function D(a,b,c,d){this.c=a;this.a={};this.g=c;this.aa=d;var f=this;this.wa=function(a){if("object"!==typeof a)return f.a;a.$=!1;return Object.keys(f.a).reduce(function(b,c){var d=f.a[c],e;for(e in a)if(d[e]!==a[e])return b;b[c]=d;return b},{})};this.ua=function(a){if("object"===typeof a)return a.$=!1,f.a[Object.keys(f.a).find(function(b){b=f.a[b];for(var c in a)if(b[c]!==a[c])return!1;return!0})]};this.i=function(){};this.b=new r(this.c,this);g.sbi_km.API.render=function(a,b,c,
d){var e=Date.now();if(b=f.a[b])b.Da[b.ba.id]=e,f.b.$a(b,a,b.ba.creative,b.ba.size,c,d).then(function(a){a=Object.keys(a.Da);a=f.g.qa[a[0]];f.c.log("sbi",200019,[a.f,a.A]);a.response=6;a.ka=!0;f.aa.ea(a.va(3))},function(a){a=Object.keys(a.Da);a=f.g.qa[a[0]];f.c.log("sbi",200021,[a.f,a.A])}),b.ba={}};this.b.M("initialized",function(a,b){f.c.log("sbi",200003,[a]);f.h(a);"function"===typeof b&&b();f.b.m("slotsDefined",function(a){f.c.log("sbi",200027,[a]);f.h(a)})});this.b.m("slotsDestroyed",function(a){a.forEach(function(a){var b=
f.b.w(a);a=f.b.oa(a);for(var c in f.a)f.a[c].l==b&&f.a[c].j==a&&(f.a[c].$=!0,f.c.log("sbi",200028,[f.a[c]]))},this)});this.b.m("getSlots",function(a,b){"object"!==typeof a?b(f.a):(a.$=!1,b(Object.keys(f.a).reduce(function(b,c){var d=f.a[c],e;for(e in a)if(d[e]!==a[e])return b;b[c]=d;return b},{})))});this.b.m("findSlot",function(a,b){"object"!==typeof a?b({}):(a.$=!1,b(f.a[Object.keys(f.a).find(function(b){b=f.a[b];for(var c in a)if(b[c]!==a[c])return!1;return!0})]))});this.b.m("slotsRequestingRender",
function(a){var b=f.v(a.B);f.i(b,a.done)});this.b.m("newPageViewRequested",function(){f.b.cb()});this.b.m("log",function(a){f.c.log.apply(f.c,Array.isArray(a)?a:[a])})}function r(a,b){this.b={};var c=this;this.F=!1;this.ia=this.Ha=Function;this.Ja={};this.a={};this.c=a;this.G=[];this.wa=b.wa;this.ua=b.ua;g.googletag=g.googletag||{};g.googletag.cmd=g.googletag.cmd||[];g.googletag.cmd[null!=g.googletag.cmd.length?"unshift":"push"](function(){c.Ja=g.googletag;c.a=c.Ja.pubads();c.a.disableInitialLoad();
c.Za();c.bb()});this.i={wb:!1,Ma:!1,Na:!1,jb:!1};this.ha={}}function L(){this.b={}}function H(a){this.caller=new F;this.g=a;this.a=!1;this.navigationStart=g.performance.timing.navigationStart}function F(){}function U(a,b){var c;if(-1!==b.indexOf(".")){b=b.split(".");for(var d=!1,f=0;f<b.length;f++){if("object"!==typeof a){d=!0;break}a=U(a,b[f])}d||(c=a);return c}d="get"+b[0].toUpperCase()+b.slice(1);b=a&&"function"===typeof a[d]?d:b;a&&(a.hasOwnProperty(b)||"function"===typeof a[b])&&(c="function"===
typeof a[b]?a[b]():a[b]);return c}function V(a){return a?'<script type="text/javascript" src="'+a+'">\x3c/script>':""}function W(a,b){if(!a)return"";b=b.split("x");return'<iframe id="'+C()+'" width="'+b[0]+'" height="'+b[1]+'" marginwidth="0" marginheight="0" style="border:0" frameborder="0" src="'+a+'" border="0" scrolling="no" vspace="0" hspace="0"></iframe>'}function X(a){return a?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;">'+('<img src="'+a+'"></div>'):""}function Y(a,
b){var c=[];a.forEach(function(a){-1!==b.indexOf(a)&&c.push(a)});return c}function Z(){return[g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,g.innerHeight||document.documentElement.clientHeight||document.body.clientHeight]}function aa(a,b){for(var c=0;c<b.length;c++){var d="lt"in b[c]&&a<b[c].lt||!("lt"in b[c]);"ge"in b[c]&&a>=b[c].ge&&d&&("set"in b[c]?a=b[c].set:"round"in b[c]&&(a=Math.round(a*b[c].round)/b[c].round))}return a}function ba(){return"Worker"in g&&"Blob"in
g}function ca(a,b,c){Object.keys(b).forEach(function(d){a=a.replace(c+d+c,b[d])});return a}function C(){return ma()+Math.random().toString(16).substr(2)}function P(a){var b=/^\d{1,4}x\d{1,4}$/;return"string"===typeof a&&b.test(a)?a.split("x").map(w):a}var g=window;(function(){(function(a){0=="performance"in a&&(a.performance={});Date.now=Date.now||function(){return(new Date).getTime()};if(0=="now"in a.performance){var b=Date.now();a.performance.timing&&a.performance.timing.navigationStart?b=a.performance.timing.navigationStart:
a.performance.timing={navigationStart:Date.now()};a.performance.now=function(){return Date.now()-b}}})(g);Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(a,b){if(void 0===a||null===a)throw new TypeError("Cannot convert first argument to object");for(var c=Object(a),d=1;d<arguments.length;d++){var f=arguments[d];if(void 0!==f&&null!==f)for(var e=Object.keys(Object(f)),m=0,k=e.length;m<k;m++){var t=e[m],g=Object.getOwnPropertyDescriptor(f,
t);g&&g.enumerable&&(c[t]=f[t])}}return c}});g.Promise||(g.Promise=function(){function a(a){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)}function b(){}function c(a,b){return function(){a.apply(b,arguments)}}function d(a){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof a)throw new TypeError("not a function");this.D=0;this.Ka=!1;this.H=void 0;this.S=[];g(a,this)}function f(a,b){for(;3===a.D;)a=
a.H;0===a.D?a.S.push(b):(a.Ka=!0,y(function(){var c=1===a.D?b.qb:b.rb;if(null===c)(1===a.D?e:m)(b.N,a.H);else{var d;try{d=c(a.H)}catch(f){m(b.N,f);return}e(b.N,d)}}))}function e(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"===typeof b||"function"===typeof b)){var d=b.then;if(b instanceof Promise){a.D=3;a.H=b;k(a);return}if("function"===typeof d){g(c(d,b),a);return}}a.D=1;a.H=b;k(a)}catch(f){m(a,f)}}function m(a,b){a.D=2;a.H=b;k(a)}function k(b){2===
b.D&&0===b.S.length&&y(function(){b.Ka||a(b.H)});for(var c=0,d=b.S.length;c<d;c++)f(b,b.S[c]);b.S=null}function t(a,b,c){this.qb="function"===typeof a?a:null;this.rb="function"===typeof b?b:null;this.N=c}function g(a,b){var c=!1;try{a(function(a){c||(c=!0,e(b,a))},function(a){c||(c=!0,m(b,a))})}catch(d){c||(c=!0,m(b,d))}}var h=setTimeout,y="function"===typeof setImmediate&&setImmediate||function(a){h(a,0)};d.prototype["catch"]=function(a){return this.then(null,a)};d.prototype.then=function(a,c){var d=
new this.constructor(b);f(this,new t(a,c,d));return d};d.all=function(a){var b=Array.prototype.slice.call(a);return new d(function(a,c){function d(e,t){try{if(t&&("object"===typeof t||"function"===typeof t)){var G=t.then;if("function"===typeof G){G.call(t,function(a){d(e,a)},c);return}}b[e]=t;--f||a(b)}catch(k){c(k)}}if(!b.length)return a([]);for(var f=b.length,e=0;e<b.length;e++)d(e,b[e])})};d.resolve=function(a){return a&&"object"===typeof a&&a.constructor===d?a:new d(function(b){b(a)})};d.reject=
function(a){return new d(function(b,c){c(a)})};d.race=function(a){return new d(function(b,c){for(var d=0,f=a.length;d<f;d++)a[d].then(b,c)})};d._setImmediateFn=function(a){y=a};d._setUnhandledRejectionFn=function(b){a=b};return d}())})();var ma=function(){var a=0;return function(){a++;return a}}(),da={highestCPMWins:function(a,b){if(0==a.length)return null;for(var c={f:0},d=0;d<a.length;d++)c.f>=a[d].f?b.log("sbi",200017,[a[d].f,a[d].A]):c=a[d];return c.f?c:null},sonobiDealWinsOverHighestCPM:function(a,
b){if(0==a.length)return null;for(var c={f:0},d=0;d<a.length;d++){if("sonobi"==a[d].A&&a[d].J){c=a[d];a.forEach(function(f){f!==c&&b.log("sbi",200017,[a[d].f,a[d].A])});break}c.f>=a[d].f?b.log("sbi",200017,[a[d].f,a[d].A]):c=a[d]}return c.f||c.J?c:null},lowestDealPriorityWinsOverHighestCPM:function(a,b){if(0==a.length)return null;a.sort(function(a,b){return a.Z-b.Z});var c=a[0].Z,d=a.filter(function(a){return a.Z===c});a={f:0};for(var d=N(d),f=d.next();!f.done;f=d.next())f=f.value,a.f>=f.f?b.log("sbi",
200017,[f.f,f.A]):a=f;return a.f||a.J?a:null}},u={Ra:C,v:function(a){var b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;return b.test(a)?a.replace(b,function(a){var b={"\b":"\\b"," ":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}[a];return("string"==typeof b?b:"\\u")+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}):a},ia:function(a){if(a){var b;try{b=a.contentWindow?a.contentWindow.document:a.contentDocument.document?
a.contentDocument.document:a.contentDocument}catch(c){return}return b}},ha:function(){var a=document.createElement("iframe");a.id=C();a.height=0;a.width=0;a.hspace="0";a.vspace="0";a.marginWidth="0";a.marginHeight="0";a.style.border="0";a.frameBorder="0";a.border="0px";a.scrolling="no";a.src="about:blank";a.style.display="none";return a},oa:ca,Ha:ba,na:function(a,b){for(var c=0,d=a.length>b.length?b.length:a.length,f=a.length<b.length?b.length:a.length,e=0;e<d;e++)a[e]==b[e]&&c++;return c/f},a:da,
b:aa,Ga:Z,w:Y,G:function(a){return Object.keys(a).map(function(b){return Array.isArray(a[b])?a[b].map(function(a){return b+"[]="+a}).join("&"):b+"="+a[b]}).join("&")},mb:function(a){try{var b=new RegExp(a,"i"),c=g.performance.getEntriesByType("resource").filter(function(a){return b.test(a.name)});return c.length&&c[0]?c[0].duration:null}catch(d){return null}},Aa:function(a){return void 0!=={sizes:1,zb:1,timeout:1}[a]},Pa:function(a){var b=g.innerWidth,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c].viewport.lt||
Number.MAX_SAFE_INTEGER;if(b>=(a[c].viewport.ge||0)&&b<d)return c}},ob:function(a,b){return a.reduce(function(a,d){(a[d[b]]=a[d[b]]||[]).push(d);return a},{})},i:X,g:W,h:V,ib:function(a,b,c){switch(void 0===b?"SCRIPT":b){case "SCRIPT":return V(a);case "IFRAME":return W(a,void 0===c?"1x1":c);case "TRACK":return X(a);case "SCRIPT_BLOCK":return a?'<script type="text/javascript">'+a+"\x3c/script>":""}return""},ya:U};F.prototype.pb=function(a){var b,c;null==b&&(b="sbi_"+C());null==c&&(c=!1);a=a.replace("%%callback%%",
b);c=c&&ba();var d=this;return new Promise(function(f){function e(a){f(a)}if(c){var m=URL.createObjectURL(new Blob(["(function(){\n\t\t\t\t\t\tself."+b+" = function(data){\n\t\t\t\t\t\t\tself.postMessage(JSON.stringify(data));\n\t\t\t\t\t\t};\n\t\t\t\t\t\tself.addEventListener('message', function(e) {\n\t\t\t\t\t\t\timportScripts(e.data);\n\t\t\t\t\t\t})\n\t\t\t\t\t})()"],{type:"application/javascript"})),k=new Worker(m);k.addEventListener("message",function(a){f(JSON.parse(a.data))},!1);k.postMessage(a);
URL.revokeObjectURL(m)}else g[b]=e,d.a(a)})};F.prototype.a=function(a){var b;b=void 0===b?"":b;return new Promise(function(c,d){var f=document.createElement("script");f.src=a;f.id=b;f.async=!0;document.head.appendChild(f);f.addEventListener?f.addEventListener("load",function(){c()}):f.readyState?f.onreadystatechange=function(){3==f.readyState&&c()}:d()})};var Q=[];H.prototype.log=function(a,b,c,d){d=null!=d?d-this.navigationStart:0+g.performance.now();a={dateTime:d,time:d-0,id:b,service:a};a.Va=c||
[];Q.push(a);this.a&&"logData"in g.sbi_km&&(c=g.sbi_km.logData,this.b(c[a.id].service,a.time,c[a.id].template,a.Va))};H.prototype.i=function(){Q.sort(function(a,b){return a.time-b.time});return Q};H.prototype.b=function(a,b,c,d){var f=[a,b];a=c.apply(c,d);Array.isArray(a)?a.forEach(function(a){return f.push(a)}):f.push(a);g.console.log.apply(console,f)};H.prototype.h=function(){var a=this;this.a=!0;this.caller.a(this.g.url+"/morpheus_console.js").then(function(){var b=g.sbi_km.logData;a.i().forEach(function(c){a.b(b[c.id].service,
c.time,b[c.id].template,c.Va)})})};L.prototype.g=function(a){if(a in this.b){var b=Array.from(arguments);b.shift();this.b[a].m.forEach(function(a){return a.apply(a,b)});this.b[a].M.forEach(function(a){return a.apply(a,b)});this.b[a].M=[]}};L.prototype.M=function(a,b){this.b[a]=this.b[a]||{m:[],M:[]};this.b[a].M.push(b)};L.prototype.m=function(a,b){this.b[a]=this.b[a]||{m:[],M:[]};this.b[a].m.push(b)};ja(r,L);r.prototype.$a=function(a,b,c,d,f,e){var m=this,k=this,t=a.l;return new Promise(function(h,
K){var y=a;k.c.log("sbi",200032,[y]);a=m.h(a.l);a.rendering=!0;f&&Object.keys(f).forEach(function(a){Array.isArray(f[a])||(f[a]=[f[a]]);c=c.replace("%%"+a+"%%",f[a].join(","))});d=d.split("x");d={O:parseInt(d[0],10),L:parseInt(d[1],10)};if(m.Xa(a,d.O,d.L))if(e)K=g.document.getElementById(t).getElementsByTagName("div")[0].childNodes[0],K.width=d.O,K.height=d.L,b.postMessage({creative:c,message:"SBI_RENDER"},"*");else{if(b.inDapIF)try{g.document.getElementsByName(b.name)[0].width=d.O,g.document.getElementsByName(b.name)[0].height=
d.L}catch(l){k.c.log("sbi",200012)}b.document.write(c)}else K(y);k.c.log("sbi",200033,[y]);h(y)})};r.prototype.Ga=function(a){var b=a.getTargetingMap(),c=Object.keys(b),d=c.filter(function(a){return"sbi"!==a.substr(0,3)});if(c.length!==d.length)for(a.clearTargeting(),c=N(d),d=c.next();!d.done;d=c.next())d=d.value,a.setTargeting(d,b[d])};r.prototype.h=function(a){var b=this;return this.v().find(function(c){return b.w(c)==a})||null};r.prototype.w=function(a){return a&&"getSlotElementId"in a?a.getSlotElementId():
null};r.prototype.v=function(){return this.a.getSlots()};r.prototype.oa=function(a){return a.getAdUnitPath()};r.prototype.Xa=function(a,b,c){var d=!1;this.ga(a).forEach(function(a){d=d||a.O==b&&a.L==c});return d};r.prototype.na=function(a){return this.ga(a).map(function(a){return a.O+"x"+a.L})};r.prototype.ga=function(a){a=a.getSizes.apply(a,Z());a=null!=a?a:[];return a.filter(function(a){return"function"===typeof a.getWidth}).map(function(a){return{O:a.getWidth(),L:a.getHeight()}})};r.prototype.ab=
function(a,b){a=this.h(a);if(null!=a)for(var c in b)a.setTargeting(c,b[c])};r.prototype.bb=function(){var a=this,b=g.googletag.debug_log.log;g.googletag.debug_log.log=function(){var c=b.apply(g.googletag.debug_log,arguments);a.g("log",["dfp",c.getMessage().getMessageId()+1E5,c.getMessage().getMessageArgs(),c.getTimestamp().getTime()])}.bind(g.googletag.debug_log)};r.prototype.cb=function(){this.a.updateCorrelator()};r.prototype.Za=function(){var a=this,b=g.googletag.defineSlot;g.googletag.defineSlot=
g.googletag.defineUnit=function(){"/"!=arguments[0].charAt(0)&&(arguments[0]="/"+arguments[0]);var c=b.apply(this,arguments),d=c.defineSizeMapping;c.defineSizeMapping=function(a){d.call(this,a);return this};var f=c.getAdUnitPath;c.getAdUnitPath=function(a){a=f.call(this,a);return("/"!=a.charAt(0)?"/":"")+a};this.F&&a.g("slotsDefined",[c]);return c};var c=g.googletag.defineOutOfPageSlot;g.googletag.defineOutOfPageSlot=function(){"/"!=arguments[0].charAt(0)&&(arguments[0]="/"+arguments[0]);var b=c.apply(this,
arguments),d=b.defineSizeMapping;b.defineSizeMapping=function(a){d.call(this,a);return this};var f=b.getAdUnitPath;b.getAdUnitPath=function(a){a=f.call(this,a);return("/"!=a.charAt(0)?"/":"")+a};b.isOutOfPage=!0;this.F&&a.g("slotsDefined",[b]);return b};var d=g.googletag.destroySlots;g.googletag.destroySlots=function(){var b=arguments.length?arguments[0]:a.a.getSlots();a.g("slotsDestroyed",b);return d.apply(this,arguments)};this.ia=this.a.refresh;this.a.refresh=function(){var b=Array.from(arguments),
c={};0<b.length&&Array.isArray(b[0])?0==b[0].length?c.B=a.v():(c.B=[],b[0].forEach(function(b){b&&"object"===typeof b&&"function"===typeof b.getSizes?c.B.push(b):a.c.log("sbi",200036,[b])})):c.B=a.v();c.done=function(){a.c.log("sbi",200029,[c.B]);a.ia.apply(a.a,b)};c.B.forEach(function(b){a.Ga(b)});a.g("slotsRequestingRender",c)};this.Ha=g.googletag.display;g.googletag.display=function(){if(this.F){var b=Array.from(arguments);a.Ha.apply(g.googletag,b);if(!a.i.Ma)if(a.i.Na){if((b=a.ua({l:b[0]}))&&
!b.ta){var c=a.wa({ta:!1}),d=C();a.ha[d]={};if(0<Object.keys(c).length){Object.keys(c).forEach(function(a){c[a].ta=!0});a.ha[d]=c;var b=Object.keys(c).map(function(b){return a.h(c[b].l)}),f={};f.B=b;f.done=function(){var b=a.ha[d],c=Object.keys(b).map(function(c){return a.h(b[c].l)});a.c.log("sbi",200029,[f.B]);a.ia.apply(a.a,[c])};f.B.forEach(function(b){a.Ga(b)});a.g("slotsRequestingRender",f)}}}else 0<b.length&&(b=a.h(b[0]),a.c.log("sbi",200030,[b]),a.a.refresh([b],{changeCorrelator:!1}))}else a.c.log("sbi",
200035,[arguments[0]]),a.G.push(arguments[0])};var f=this.a.addEventListener;this.a.addEventListener=function(){var b=Array.from(arguments),c=b[1];"slotRenderEnded"==b[0]&&(b[1]=function(){var a=Array.from(arguments);if(!a[0].isEmpty&&a[0].slot.hasOwnProperty("rendering")){var b=a[0].slot.getTargeting("sbi_size");0<b.length&&(b=b[0].split("x"),b=b.map(function(a){return parseInt(a,10)}),a[0].size=b);delete a[0].slot.rendering}c.apply(c,a)});f.apply(a.a,b)};var e=g.googletag.enableServices;g.googletag.enableServices=
function(){var b=this,c=arguments;a.c.log("sbi",200031);this.F||(this.F=!0,a.g("initialized",a.v(),function(){e.apply(b,c);a.c.log("sbi",200034,[a.G.toString()]);a.G.forEach(function(a){return g.googletag.display(a)});a.G=[]}))};var m=this.a.enableSingleRequest;this.a.enableSingleRequest=function(){a.F||(a.i.Na=!0);m.apply(this,arguments)};this.a.disableInitialLoad=function(){a.F||(a.i.Ma=!0)};var k=this.a.enableAsyncRendering;this.a.enableAsyncRendering=function(){a.F||(a.i.jb=!0);k.apply(this,arguments)}};
r.prototype.Ya=function(a){return a.hasOwnProperty("isOutOfPage")&&a.isOutOfPage};D.prototype.w=function(a){this.i=a};D.prototype.v=function(a){var b={};a=N(a);for(var c=a.next();!c.done;c=a.next()){var c=this.b.w(c.value),d=null,f;for(f in this.a)if(this.a[f].l==c){d=this.a[f].id;break}null!=d&&(b[d]=this.a[d])}return b};D.prototype.h=function(a){var b=this,c={},d={};a.forEach(function(a){var e=b.b.w(a),m=b.b.oa(a);if(!(e in d)){c[m]=c[m]++||1;var k=C();d[k]={j:m,Bb:m+":"+c[m],l:e,id:k,Ab:!1,yb:!1,
$:!1,Da:{},qa:[],ba:{},sizes:b.b.na(a),Wa:{},xb:b.b.Ya(a),ga:b.b.na.bind(b.b,a),ta:!1,vb:0}}});this.a=Object.assign(this.a,d)};D.prototype.tb=function(a){for(var b in a)if(b in this.a){var c=this.a[b].l;this.a[b].ba=a[b];this.a[b].Wa=a[b].targeting;this.a[b].Wa.sbi_size=a[b].size;this.b.ab(c,a[b].targeting)}};Object.defineProperties(D.prototype,{B:{configurable:!0,enumerable:!0,get:function(){return this.a},set:function(a){this.a=a}}});J.prototype.fa=function(a){return a?this.a[a]:this.a};T.prototype.b=
function(a,b){if(a){a=this.a[a];if(b){var c=a[b];u.Aa(b)&&!c?a=this.K.fa(b):a=c}return a}return this.a};x.prototype.Oa=function(a){var b=a.key;a=this.b[a.o?a.o:this.o];if(b){var c=a[b];u.Aa(b)&&!c?a=this.a.b(u.Pa(this.a.b()),b):a=c}return a};x.prototype.Qa=function(a){var b=a.name;return this.h({o:void 0===a.o?this.o:a.o,la:void 0===a.la?"requestSettings":a.la}).find(function(a){return a.name===b})};x.prototype.h=function(a){var b=[];a=this.b[void 0===a.o?this.o:a.o][void 0===a.la?"requestSettings":
a.la]||[];for(var c=0;c<a.length;c++){var d=a[c];if(d.hasOwnProperty("dimensions")){var f="*";this.a.a&&(f=u.Pa(this.a.b()));var e;a:{e=g.location.href;var m=u.ya(d,"dimensions.domains")||[];if(0===m.length||-1<m.indexOf("*"))e=!0;else{for(var k=0;k<m.length;k++)if((new RegExp(m[k])).test(e)){e=!0;break a}e=!1}}e&&(e=u.ya(d,"dimensions.platforms")||[],e="*"===f||0===e.length||-1<e.indexOf("*")?!0:-1<e.indexOf(f));e&&b.push(d)}else b.push(d)}return b};v.prototype.start=function(a,b,c){this.a||(this.c=
c,a.Oa({}),this.Y=a,this.a=!0,c.log("sbi",200011,[this.name]),this.b=this.Fa(a,b,c)||Promise.resolve({}));return this.b};v.prototype.lb=function(a,b,c){var d=this,f=g.performance.now(),e,m=this.request(a,b,c).then(function(a){d.c.log("sbi",200010,[a]);f=Math.round(g.performance.now()-f);for(var b in a){a[b]||d.c.log("sbi",200014,[d.name]);for(var c=N(Array.from(a[b])),k=c.next();!k.done;k=c.next())k=k.value,k.ka=!1,null!=k.Ca?(k.Sa=k.Ca,k.Ba=f):k.Sa=f}a={u:!1,data:a,name:d.name,N:Promise.resolve({u:!1,
data:a,name:d.name})};clearTimeout(e);return a}),k=d.Y.Oa({key:"timeout"});a=new Promise(function(a){var b={u:!0,data:{},name:d.name,N:m};e=setTimeout(function(){d.c.log("sbi",200013,[d.name,k]);a(b)},k)});return Promise.race([m,a])};q.prototype.clone=function(){return Object.assign(Object.create(this),this)};q.prototype.va=function(a){var b=this.clone();switch(a){case 1:a={buyerid:b.R,buyername:b.da,adunit_code:b.P,pageViewId:b.V,bidid:b.ca,p:1,response:b.X,size:P(b.C||"0x0"),s:b.C||"0x0",bid:b.W,
latency:b.U||b.T};break;case 2:a={buyerid:b.R,buyername:b.da,adunit_code:b.P,pageViewId:b.V,bidid:b.ca,p:2,response:b.X,size:P(b.C||"0x0"),s:b.C||"0x0",bid:b.W,latency:b.U||b.T};b.J&&"string"==typeof b.J&&(a.dealid=b.pa);this.Ba&&(a.jsLatency=Math.round(b.Ba));break;default:a={buyerid:b.R,buyername:b.da,adunit_code:b.P,pageViewId:b.V,bidid:b.ca,p:3,response:b.X,size:P(b.C||"0x0"),s:b.C||"0x0",bid:b.W,latency:b.U||b.T}}return a};Object.defineProperties(q.prototype,{id:{configurable:!0,enumerable:!0,
get:function(){return this.ca}},sb:{configurable:!0,enumerable:!0,get:function(){return this.V},set:function(a){this.V=a}},j:{configurable:!0,enumerable:!0,get:function(){return this.w},set:function(a){this.w=a}},type:{configurable:!0,enumerable:!0,get:function(){return this.G},set:function(a){this.G=a}},eb:{configurable:!0,enumerable:!0,get:function(){return this.P},set:function(a){this.P=a}},f:{configurable:!0,enumerable:!0,get:function(){return this.W},set:function(a){this.W=a}},A:{configurable:!0,
enumerable:!0,get:function(){return this.da}},Ta:{configurable:!0,enumerable:!0,get:function(){return this.h},set:function(a){this.h=a}},Sa:{configurable:!0,enumerable:!0,get:function(){return this.U},set:function(a){this.U=a}},Ca:{configurable:!0,enumerable:!0,get:function(){return this.i},set:function(a){this.i=a}},Ba:{configurable:!0,enumerable:!0,get:function(){return this.T},set:function(a){this.T=a}},size:{configurable:!0,enumerable:!0,get:function(){return this.C},set:function(a){this.C=Array.isArray(a)?
a.join("x"):a}},ra:{configurable:!0,enumerable:!0,get:function(){return this.R},set:function(a){this.R=a}},La:{configurable:!0,enumerable:!0,get:function(){return this.a},set:function(a){this.a=a}},J:{configurable:!0,enumerable:!0,get:function(){return this.pa},set:function(a){this.pa=a}},Z:{configurable:!0,enumerable:!0,get:function(){return this.b},set:function(a){this.b=a}},response:{configurable:!0,enumerable:!0,get:function(){return this.X},set:function(a){this.X=a}},ja:{configurable:!0,enumerable:!0,
get:function(){return this.v},set:function(a){this.v=a}},sa:{configurable:!0,enumerable:!0,get:function(){return this.g},set:function(a){this.g=a}}});var ea={sonobi:new v({Fa:function(a,b,c){this.Y=a;this.aa=b;this.c=c;this.c.log("sbi",200022,["sonobi"])},request:function(a,b){var c=this,d={},f={},e;for(e in a){var m=a[e],k=m.j+"|"+encodeURIComponent(m.l);d[k]=m.sizes.join(",");f[k]=new q(m.sizes[0],"sonobi","sonobi",e,m.j,this.aa,b)}var h=JSON.stringify(d),d=c.Y.Qa({name:"cdf"})||[];e=c.Y.Qa({name:"hfa"})||
[];b="";d=N([].concat(d,e));for(e=d.next();!e.done;e=d.next())e=e.value,m=u.ya(g,e.value),void 0!=m&&("object"===typeof m&&(m=JSON.stringify(m)),b+="&"+e.name+"="+encodeURIComponent(m));b=location.protocol+"//apex.go.sonobi.com/trinity.js?key_maker="+h+b+"&cv=%%callback%%"+("&s="+Math.floor(1E4*Math.random()));c.c.log("sbi",200023,["sonobi",a]);return this.caller.pb(b).then(function(b){c.c.log("sbi",200024,["sonobi",a,b]);var d=u.mb(h);return c.parse.call(c,b,a,d,f)})},parse:function(a,b,c,d){var f=
{},e;for(e in b){var m=b[e],k=m.j+"|"+m.l,g=m.j+"|"+encodeURIComponent(m.l);k in a.slots&&(g=d[g],k=a.slots[k],"sbi_aid"in k||(k={sbi_aid:null,sbi_apoc:null,sbi_size:null}),"sbi_dozer"in k||(k.sbi_dozer=!1),"sbi_pri"in k||(k.sbi_pri=10),"sbi_mouse"in k||(k.sbi_mouse=0,k.sbi_pri=1),"outstream"==k.sbi_size&&(k.sbi_size="1x1",g.type=1),g.f=100*parseFloat(k.sbi_mouse),g.size=k.sbi_size||g.size,g.J=k.sbi_dozer,g.Z=parseInt(k.sbi_pri,10),g.Ca=c,g.Ta={sbi_aid:k.sbi_aid,sbi_dc:a.sbi_dc},g.La=u.ib("//%%sbi_dc%%apex.go.sonobi.com/sbi.js?aid=%%sbi_aid%%&as=null",
"SCRIPT"),g.eb=m.j,1===parseInt(k.sbi_pri,10)?(g.ja=[{ge:0,set:k.sbi_dozer}],g.Ua="sbi_dozer"):k.sbi_dozer&&(g.sa={sbi_dozer:k.sbi_dozer}),f[m.id]=[g])}this.c.log("sbi",200025,["sonobi",b,f]);return f},name:"sonobi",ra:"sonobi"})};p.prototype.Ea=function(a,b,c,d){var f=this,e=this;this.c.log("sbi",200001,[c]);this.c.log("sbi",200006);var g=[],k={},h=!1;b.adapterSettings.forEach(function(c){var l=c.name;if(!c.disabled){c=c.sizes;e.c.log("sbi",200011,[l]);var p={},n;for(n in a)if(a.hasOwnProperty(n)){a[n].sizes=
a[n].ga();var q=Y(a[n].sizes,c);0<q.length&&(p[n]=Object.assign({},a[n]),p[n].sizes=q)}0<Object.keys(p).length?(n=ea[l].start(new x(b,l),f.aa,f.c),g.push(n.then(function(a){return ea[l].lb(p,d,a).then(function(a){if(!h&&!a.u)for(var b in a.data)a.data[b].forEach(function(a){a.xa=!1;a.u=!1;k[a.id]=a},e);a.N.then(function(a){for(var b in a.data)a.data[b].forEach(function(b){b.xa=h;b.u=a.u;b.u&&e.c.log("sbi",200008,[l]);h&&a.u&&(k[b.id]=b)},e)});return a})}))):g.push(new Promise(function(a){a({})}))}});
var l,p=Promise.all(g).then(function(){if(!h)return clearTimeout(l),e.a=Object.assign(e.a,k),h=!0,k}),n=new Promise(function(a){e.c.log("sbi",200002);l=setTimeout(function(){e.c.log("sbi",200009);e.a=Object.assign(e.a,k);h=!0;a(k)},c)});return Promise.race([p,n])};p.prototype.nb=function(a,b){a=a.filter(function(a){return!a.u&&!a.xa});if(0==a.length)return{};var c={};a.forEach(function(a){c[a.j]=c[a.j]||[];c[a.j]=c[a.j].concat(a)});a={};for(var d in c){var e=da.sonobiDealWinsOverHighestCPM(c[d],this.c);
if(null!=e){e.Ia=!0;a[d]={targeting:{}};a[d].id=e.id;a[d].targeting.sbi_kmid=d;a[d].targeting.sbi_bidder=e.A;var g="sbi_price";null!=e.Ua&&(g=e.Ua);Array.isArray(e.ja)&&0<e.ja.length&&(b=e.ja);a[d].targeting[g]=aa(e.f,b);for(var h in e.sa)a[d].targeting[h]=e.sa[h];g=e.La;g=ca(g,e.Ta,"%%");a[d].creative=g;a[d].size=e.size}}this.c.log("sbi",200005,[a]);return a};Object.defineProperties(p.prototype,{qa:{configurable:!0,enumerable:!0,get:function(){return this.a},set:function(a){this.a=a}}});h.prototype.ea=
function(a){var b=this;this.a.length||setTimeout(function(){b.b(b.a,void 0,void 0);b.a=[]},100);this.a.push(a)};h.prototype.i=function(a,b){var c=0;a.hb&&(c|=16);a.ub&&(c|=8);a.Ia&&(c|=4);a.ka&&(c|=2);a.za&&(c|=1);switch(c){case 0:return 1;case 8:return 0;case 16:return 4;case 17:return 4;case 20:case 21:return this.c.log("sbi",200018,[b.f,b.A]),5;case 22:case 23:return 6;case 24:return 2;case 25:return this.c.log("sbi",200016),3;default:throw Error("Invalid bid status: "+c.toString(2)||"Assertion failed!");
}};h.prototype.h=function(a){var b={f:0};a=N(a);for(var c=a.next();!c.done;c=a.next())c=c.value,c.f>b.f&&(b=c);b.za=!0};h.prototype.fb=function(a){this.h(a);a=N(a);for(var b=a.next();!b.done;b=a.next()){b=b.value;this.c.log("sbi",200026,[b.A,b]);var c={hb:0<b.f,ub:b.xa||b.u,Ia:b.Ia,ka:b.ka,za:b.za},d=void 0;try{d=this.i(c,b),b.response=d}catch(e){this.c.log(200020,[e.message]);continue}this.ea(b.va(2))}};h.prototype.b=function(a,b,c){b=void 0===b?this.g.gb.kb():b;c=void 0===c?u.Ra():c;a=u.ob(a,"pageViewId");
var d={},e;for(e in a){d.ma=e;d.I=a[d.ma];for(var g=function(a){return function(){var c=a.ma;a.I.forEach(function(a){delete a.sb});return b+"?pageviewid="+c+"&data="+JSON.stringify(a.I)}}(d),h=g(),k=h.length,l=[];2E3<k+b.length;){l.push(d.I.splice(0,1)[0]);if(0==d.I.length)break;h=g();k=h.length}2E3>=h.length&&this.caller.a(h);0<l.length&&this.b(l,b,c);d={ma:d.ma,I:d.I}}};l.prototype.kb=function(){var a=this.a.url;u.Aa("url")&&!a&&(a=this.K.fa("url"));return a};n.prototype.a=function(a){a.adapterSettings.forEach(function(a){!a.hasOwnProperty("frequency")||
Math.random()<=a.frequency&&!1===a.disabled||(a.disabled=!0)})};g.sbi_morpheus={registration:{},register:function(){},enableReactiveSizes:function(){},callOperator:function(){},cmd:[]};g.sbi_km=g.sbi_km||{};g.sbi_km.API=g.sbi_km.API||{};g.sbi_km.config=e;g.addEventListener("message",function(a){"SAFE_FRAME_RENDER"===a.data.key&&g.sbi_km.API.render(a.source,a.data.id,a.data.macros,!0)},!1);var R=new n(e),I=new H(e),S=new h(I,R),fa=new p(I,S),ga=new D(I,0,fa,S);ga.w(function(a,b,c,d,e,g){return{Ea:function(h,
k){if(Object.keys(h).length){var l=C();a.Ea(h,b,c,l).then(function(b){var c=Object.keys(b).map(function(a){return b[a]});c.length?(d.tb(a.nb(c,e.K.fa("priceRules")||[])),c=c.map(function(a){return a.clone()}),c.length&&(c=c.map(function(a){a.j=h[a.j].j;return a}),g.fb(c),k())):k()})}}}}(fa,e,R.K.fa("timeout"),ga,R,S).Ea);g.sbi_km.API.debug=I.h.bind(I);-1===g.location.search.indexOf("sbi_test")?document.cookie="sbi_debug=false":-1!==document.cookie.indexOf("sbi_debug=true")?g.sbi_km.API.debug(!0):
-1!==g.location.search.indexOf("sbi_test")&&(document.cookie="sbi_debug=true",g.sbi_km.API.debug(!0))}).call(this,window.sbi_config||{adapterSettings:[{requestSettings:[],platforms:["mobile","desktop","tablet"],sizes:"300x250 300x600 300x1050 300x50 320x50 320x100 728x90 160x600 120x600 970x250 970x90 300x100 970x66".split(" "),timeout:2500,disabled:!1,name:"sonobi"}],platformSettings:{desktop:{viewport:{ge:992}},tablet:{viewport:{ge:768,lt:992}},mobile:{viewport:{lt:768}}},globalSettings:{timeout:1600,
priceRules:[{set:5E3,ge:5E3},{round:10,ge:3E3,lt:5E3},{round:5,ge:900,lt:3E3},{round:1,ge:0,lt:900}],sizes:"300x250 300x600 300x1050 300x50 320x50 320x100 728x90 160x600 120x600 970x250 970x90 300x100 970x66".split(" ")},analyticsSettings:{timeout:2E3,url:"https://keymaker.go.sonobi.com/keymaker"},url:"//mtrx.go.sonobi.com",adServer:"dfp"});window.sbi_km.version="3.5.1";}).call(window)
